<form (ngSubmit)="onSubmit()" #productForm="ngForm" class="container my-4">
  <div class="row mb-3">
    <div class="col-md-6">
      <label for="name" class="form-label">Nombre del producto</label>
      <input type="text" [(ngModel)]="producto.name" name="name" class="form-control" id="name" placeholder="Ingrese el nombre del producto" required>
    </div>
    <div class="col-md-6">
      <label for="price" class="form-label">Precio</label>
      <input type="number" [(ngModel)]="producto.price" name="price" class="form-control" id="price" placeholder="Precio" required>
    </div>
  </div>

  <div class="row mb-3">
    <div class="col-md-6">
      <label for="description" class="form-label">Descripción</label>
      <input type="text" [(ngModel)]="producto.description" name="description" class="form-control" id="description" placeholder="Descripción" required>
    </div>
    <div class="col-md-6">
      <label for="quantity" class="form-label">Cantidad</label>
      <input type="number" [(ngModel)]="producto.quantity" name="quantity" class="form-control" id="quantity" placeholder="Cantidad" required>
    </div>
  </div>

  <div class="row mb-3">
    <div class="col-md-6">
      <label for="status" class="form-label">Estado</label>
      <select name="status" [(ngModel)]="producto.status" class="form-select" id="status" required>
        <option value="Y">Activo</option>
        <option value="N">Inactivo</option>
      </select>
    </div>
    <div class="col-md-6">
      <label for="category" class="form-label">Categoría</label>
      <select name="category" [(ngModel)]="producto.category" class="form-select" id="category" required>
        <option *ngFor="let categoria of categorias" [value]="categoria.id">{{ categoria.category_name }}</option>
      </select>
    </div>
  </div>

  <div class="row mb-3">
    <div class="col-md-6">
      <label for="image" class="form-label">Imagen</label>
      <input type="file" (change)="onFileSelected($event)" class="form-control" id="image" required>
    </div>
    <div class="col-md-6 d-flex align-items-center">
      <img *ngIf="imagePreview" [src]="imagePreview" alt="Vista previa" class="img-thumbnail" style="max-width: 150px;">
    </div>
  </div>

  <div class="form-footer text-end">
    <button class="btn btn-primary" type="submit">Crear Producto</button>
    <button class="btn btn-secondary" type="reset">Limpiar</button>
  </div>

  <div class="mt-3">
    <p>{{ message }}</p>
  </div>
</form>

<div class="col-md-6 col-lg-4">
  <app-product-table></app-product-table> <!-- Aquí estás incluyendo el componente hijo -->
</div>
